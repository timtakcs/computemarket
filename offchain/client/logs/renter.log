2025-05-02 17:30:30,454 [INFO] renter: what the fuck
2025-05-02 17:30:45,706 [INFO] renter: what the fuckNone
2025-05-02 17:31:11,883 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 17:31:11,890 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 17:42:17,300 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 17:42:17,306 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 17:42:19,868 [INFO] renter: received invoice: {'nonce': 0, 'channel_id': 1, 'sigL': '9f64393a5e81e71aeaaf94ba377396d9beddc166fc35b0c32b2828d57872edc1554dc231451af2b1bbba4092d4ffda6ff9631580d2eea3ab8af8c80cf5ab4f561c', 'sigR': '9f64393a5e81e71aeaaf94ba377396d9beddc166fc35b0c32b2828d57872edc1554dc231451af2b1bbba4092d4ffda6ff9631580d2eea3ab8af8c80cf5ab4f561c'}
2025-05-02 17:42:39,875 [INFO] renter: received invoice: {'nonce': 1, 'channel_id': 1, 'sigL': '3cdb8fc5e4a69fc69c91a32cb6b5d0cb2454acd7a52de15ab047e2f0098c5b9268f2c985e10fa16625f87694d7330af43cb5a0ee3c05c0c4db29f87d976e7ab21c', 'sigR': '3cdb8fc5e4a69fc69c91a32cb6b5d0cb2454acd7a52de15ab047e2f0098c5b9268f2c985e10fa16625f87694d7330af43cb5a0ee3c05c0c4db29f87d976e7ab21c'}
2025-05-02 17:42:55,519 [INFO] renter: received kill signal, stopping rental...
2025-05-02 17:43:53,825 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 17:43:53,832 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 17:43:59,488 [INFO] renter: received kill signal, stopping rental...
2025-05-02 17:44:24,012 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 17:44:24,019 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 17:44:28,104 [INFO] renter: received kill signal, stopping rental...
2025-05-02 17:44:29,457 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 17:44:29,463 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 17:44:34,890 [INFO] renter: received kill signal, stopping rental...
2025-05-02 17:46:46,907 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 17:46:46,913 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 17:46:50,336 [INFO] renter: received kill signal, stopping rental...
2025-05-02 17:49:49,889 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 17:49:49,896 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 17:49:55,997 [INFO] renter: received kill signal, stopping rental...
2025-05-02 17:52:20,533 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 17:52:20,540 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 17:52:27,705 [ERROR] asyncio: Task exception was never retrieved
future: <Task finished name='Task-5' coro=<main.<locals>.runner.<locals>.shutdown() done, defined at /Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/exchange.py:37> exception=ConnectionClosedOK(Close(code=1001, reason=''), Close(code=1001, reason=''), True)>
Traceback (most recent call last):
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/exchange.py", line 40, in shutdown
    await client.stop()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/renter/renter.py", line 55, in stop
    await self.send_stop_rental()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/renter/renter.py", line 31, in send_stop_rental
    await self.send_message(msg)
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/common/client.py", line 58, in send_message
    await self.websocket.send(json.dumps(message))
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 620, in send
    await self.ensure_open()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1001 (going away); then sent 1001 (going away)
2025-05-02 17:52:41,232 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 17:52:41,239 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 17:52:50,900 [ERROR] asyncio: Task exception was never retrieved
future: <Task finished name='Task-5' coro=<main.<locals>.runner.<locals>.shutdown() done, defined at /Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/exchange.py:37> exception=ConnectionClosedOK(Close(code=1001, reason=''), Close(code=1001, reason=''), True)>
Traceback (most recent call last):
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/exchange.py", line 40, in shutdown
    await client.stop()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/renter/renter.py", line 55, in stop
    await self.send_stop_rental()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/renter/renter.py", line 31, in send_stop_rental
    await self.send_message(msg)
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/common/client.py", line 58, in send_message
    await self.websocket.send(json.dumps(message))
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 620, in send
    await self.ensure_open()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1001 (going away); then sent 1001 (going away)
2025-05-02 17:55:09,824 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 17:55:09,831 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 17:55:42,967 [ERROR] asyncio: Task exception was never retrieved
future: <Task finished name='Task-5' coro=<main.<locals>.runner.<locals>.shutdown() done, defined at /Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/exchange.py:37> exception=ConnectionClosedOK(Close(code=1001, reason=''), Close(code=1001, reason=''), True)>
Traceback (most recent call last):
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/exchange.py", line 40, in shutdown
    await client.stop()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/renter/renter.py", line 55, in stop
    await self.send_stop_rental()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/renter/renter.py", line 31, in send_stop_rental
    await self.send_message(msg)
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/common/client.py", line 58, in send_message
    await self.websocket.send(json.dumps(message))
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 620, in send
    await self.ensure_open()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1001 (going away); then sent 1001 (going away)
2025-05-02 17:55:47,307 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 17:55:47,313 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 17:56:54,360 [ERROR] asyncio: Task exception was never retrieved
future: <Task finished name='Task-5' coro=<main.<locals>.runner.<locals>.shutdown() done, defined at /Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/exchange.py:37> exception=ConnectionClosedOK(Close(code=1000, reason=''), Close(code=1000, reason=''), True)>
Traceback (most recent call last):
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/exchange.py", line 40, in shutdown
    await client.stop()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/renter/renter.py", line 55, in stop
    await self.send_stop_rental()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/renter/renter.py", line 31, in send_stop_rental
    await self.send_message(msg)
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/common/client.py", line 58, in send_message
    await self.websocket.send(json.dumps(message))
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 620, in send
    await self.ensure_open()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1000 (OK); then sent 1000 (OK)
2025-05-02 17:57:01,047 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 17:57:01,053 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 17:57:29,809 [ERROR] asyncio: Task exception was never retrieved
future: <Task finished name='Task-5' coro=<main.<locals>.runner.<locals>.shutdown() done, defined at /Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/exchange.py:37> exception=ConnectionClosedOK(Close(code=1000, reason=''), Close(code=1000, reason=''), True)>
Traceback (most recent call last):
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/exchange.py", line 40, in shutdown
    await client.stop()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/renter/renter.py", line 55, in stop
    await self.send_stop_rental()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/renter/renter.py", line 31, in send_stop_rental
    await self.send_message(msg)
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/common/client.py", line 58, in send_message
    await self.websocket.send(json.dumps(message))
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 620, in send
    await self.ensure_open()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1000 (OK); then sent 1000 (OK)
2025-05-02 17:57:42,612 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 17:57:42,618 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 17:57:45,343 [INFO] renter: received kill signal, stopping rental...
2025-05-02 17:59:09,484 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 17:59:09,490 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 17:59:12,158 [INFO] renter: received kill signal, stopping rental...
2025-05-02 18:00:14,702 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 18:00:14,708 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 18:00:20,743 [ERROR] asyncio: Task exception was never retrieved
future: <Task finished name='Task-5' coro=<main.<locals>.runner.<locals>.shutdown() done, defined at /Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/exchange.py:37> exception=ConnectionClosedOK(Close(code=1001, reason=''), Close(code=1001, reason=''), True)>
Traceback (most recent call last):
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/exchange.py", line 40, in shutdown
    await client.stop()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/renter/renter.py", line 55, in stop
    await self.send_stop_rental()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/renter/renter.py", line 31, in send_stop_rental
    await self.send_message(msg)
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/common/client.py", line 58, in send_message
    await self.websocket.send(json.dumps(message))
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 620, in send
    await self.ensure_open()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1001 (going away); then sent 1001 (going away)
2025-05-02 18:01:02,627 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 18:01:02,633 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 18:01:51,444 [ERROR] asyncio: Task exception was never retrieved
future: <Task finished name='Task-6' coro=<main.<locals>.runner.<locals>.shutdown() done, defined at /Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/exchange.py:37> exception=ConnectionClosedError(None, None, None)>
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 719, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/exchange.py", line 47, in runner
    await client.start()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/common/client.py", line 70, in start
    await self.run()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/renter/renter.py", line 42, in run
    new_invoice = json_message[PAYLOAD]
                  ~~~~~~~~~~~~^^^^^^^^^
KeyError: 'payload'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 1279, in close_connection
    await self.transfer_data_task
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 945, in transfer_data
    message = await self.read_message()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 1015, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 1090, in read_data_frame
    frame = await self.read_frame(max_size)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 1147, in read_frame
    frame = await Frame.read(
            ^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/framing.py", line 71, in read
    data = await reader(2)
           ^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/streams.py", line 769, in readexactly
    await self._wait_for_data('readexactly')
  File "/opt/homebrew/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/streams.py", line 539, in _wait_for_data
    await self._waiter
asyncio.exceptions.CancelledError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/exchange.py", line 40, in shutdown
    await client.stop()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/renter/renter.py", line 55, in stop
    await self.send_stop_rental()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/renter/renter.py", line 31, in send_stop_rental
    await self.send_message(msg)
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/common/client.py", line 58, in send_message
    await self.websocket.send(json.dumps(message))
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 620, in send
    await self.ensure_open()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 916, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2025-05-02 18:01:59,271 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 18:01:59,276 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 18:02:01,818 [INFO] renter: received invoice: {'nonce': 0, 'channel_id': 1, 'sigL': '9f64393a5e81e71aeaaf94ba377396d9beddc166fc35b0c32b2828d57872edc1554dc231451af2b1bbba4092d4ffda6ff9631580d2eea3ab8af8c80cf5ab4f561c', 'sigR': '9f64393a5e81e71aeaaf94ba377396d9beddc166fc35b0c32b2828d57872edc1554dc231451af2b1bbba4092d4ffda6ff9631580d2eea3ab8af8c80cf5ab4f561c'}
2025-05-02 18:02:21,806 [INFO] renter: received invoice: {'nonce': 1, 'channel_id': 1, 'sigL': '3cdb8fc5e4a69fc69c91a32cb6b5d0cb2454acd7a52de15ab047e2f0098c5b9268f2c985e10fa16625f87694d7330af43cb5a0ee3c05c0c4db29f87d976e7ab21c', 'sigR': '3cdb8fc5e4a69fc69c91a32cb6b5d0cb2454acd7a52de15ab047e2f0098c5b9268f2c985e10fa16625f87694d7330af43cb5a0ee3c05c0c4db29f87d976e7ab21c'}
2025-05-02 18:02:25,158 [INFO] renter: received kill signal, stopping rental...
2025-05-02 18:02:29,746 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 18:02:29,753 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 18:02:52,771 [ERROR] asyncio: Task exception was never retrieved
future: <Task finished name='Task-6' coro=<main.<locals>.runner.<locals>.shutdown() done, defined at /Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/exchange.py:37> exception=ConnectionClosedError(None, None, None)>
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py", line 719, in run_until_complete
    return future.result()
           ~~~~~~~~~~~~~^^
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/exchange.py", line 47, in runner
    await client.start()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/common/client.py", line 70, in start
    await self.run()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/renter/renter.py", line 42, in run
    new_invoice = json_message[PAYLOAD]
                  ~~~~~~~~~~~~^^^^^^^^^
KeyError: 'payload'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 1279, in close_connection
    await self.transfer_data_task
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 945, in transfer_data
    message = await self.read_message()
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 1015, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 1090, in read_data_frame
    frame = await self.read_frame(max_size)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 1147, in read_frame
    frame = await Frame.read(
            ^^^^^^^^^^^^^^^^^
    ...<4 lines>...
    )
    ^
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/framing.py", line 71, in read
    data = await reader(2)
           ^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/streams.py", line 769, in readexactly
    await self._wait_for_data('readexactly')
  File "/opt/homebrew/Cellar/python@3.13/3.13.3/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/streams.py", line 539, in _wait_for_data
    await self._waiter
asyncio.exceptions.CancelledError

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/exchange.py", line 40, in shutdown
    await client.stop()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/renter/renter.py", line 55, in stop
    await self.send_stop_rental()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/renter/renter.py", line 31, in send_stop_rental
    await self.send_message(msg)
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/common/client.py", line 58, in send_message
    await self.websocket.send(json.dumps(message))
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 620, in send
    await self.ensure_open()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 916, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent
2025-05-02 18:03:26,141 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 18:03:26,147 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 18:03:32,452 [INFO] renter: received kill signal, stopping rental...
2025-05-02 18:04:02,071 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 18:04:02,077 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 18:04:04,143 [INFO] renter: received invoice: {'nonce': 0, 'channel_id': 1, 'sigL': '9f64393a5e81e71aeaaf94ba377396d9beddc166fc35b0c32b2828d57872edc1554dc231451af2b1bbba4092d4ffda6ff9631580d2eea3ab8af8c80cf5ab4f561c', 'sigR': '9f64393a5e81e71aeaaf94ba377396d9beddc166fc35b0c32b2828d57872edc1554dc231451af2b1bbba4092d4ffda6ff9631580d2eea3ab8af8c80cf5ab4f561c'}
2025-05-02 18:04:24,151 [INFO] renter: received invoice: {'nonce': 1, 'channel_id': 1, 'sigL': '3cdb8fc5e4a69fc69c91a32cb6b5d0cb2454acd7a52de15ab047e2f0098c5b9268f2c985e10fa16625f87694d7330af43cb5a0ee3c05c0c4db29f87d976e7ab21c', 'sigR': '3cdb8fc5e4a69fc69c91a32cb6b5d0cb2454acd7a52de15ab047e2f0098c5b9268f2c985e10fa16625f87694d7330af43cb5a0ee3c05c0c4db29f87d976e7ab21c'}
2025-05-02 18:04:35,708 [INFO] renter: received kill signal, stopping rental...
2025-05-02 18:16:59,023 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 18:16:59,030 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 18:17:09,482 [INFO] renter: received kill signal, stopping rental...
2025-05-02 18:17:09,490 [INFO] renter: renter client shutdown complete!
2025-05-02 18:19:22,072 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 18:19:22,078 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 18:19:29,943 [ERROR] asyncio: Task exception was never retrieved
future: <Task finished name='Task-5' coro=<main.<locals>.runner.<locals>.shutdown() done, defined at /Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/exchange.py:37> exception=ConnectionClosedOK(Close(code=1001, reason=''), Close(code=1001, reason=''), True)>
Traceback (most recent call last):
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/exchange.py", line 40, in shutdown
    await client.stop()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/renter/renter.py", line 61, in stop
    await self.send_stop_rental()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/client/renter/renter.py", line 31, in send_stop_rental
    await self.send_message(msg)
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/common/client.py", line 58, in send_message
    await self.websocket.send(json.dumps(message))
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 620, in send
    await self.ensure_open()
  File "/Users/timurtakhtarov/School/CSCE489/computemarket/offchain/venv/lib/python3.13/site-packages/websockets/legacy/protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedOK: received 1001 (going away); then sent 1001 (going away)
2025-05-02 18:20:32,241 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 18:20:32,247 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 18:21:39,507 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 18:21:39,513 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 18:21:49,132 [INFO] renter: received kill signal, stopping rental...
2025-05-02 18:22:44,804 [INFO] renter: what the fuck0x70997970C51812dc3A010C7d01b50e0d17dc79C8
2025-05-02 18:22:44,810 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 18:23:34,181 [INFO] renter: received kill signal, stopping rental...
2025-05-02 18:26:54,130 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 18:26:55,076 [INFO] renter: received invoice: {'nonce': 0, 'channel_id': 64442648639341513120600906712959082926124635216814937890126777039898815220471, 'sigL': '9cb81eea4fdd8f86f6d1243289408202f33dd6019258ff431cdcb1b67fdcbd3a5124ed5d3cfed9feaeb26bee8aab4fe1611a93c53f0244b740a3accefcd176ab1c', 'sigR': '9cb81eea4fdd8f86f6d1243289408202f33dd6019258ff431cdcb1b67fdcbd3a5124ed5d3cfed9feaeb26bee8aab4fe1611a93c53f0244b740a3accefcd176ab1c'}
2025-05-02 18:27:15,086 [INFO] renter: received invoice: {'nonce': 1, 'channel_id': 64442648639341513120600906712959082926124635216814937890126777039898815220471, 'sigL': '818c43408166f31409eea43d7482e31333b5484de563f418818fe115b6b87e8218da2e21cd1060a471e7ed3cc33d0ed3e190c6951a3c4cf7132294ab2da2c4b31c', 'sigR': '818c43408166f31409eea43d7482e31333b5484de563f418818fe115b6b87e8218da2e21cd1060a471e7ed3cc33d0ed3e190c6951a3c4cf7132294ab2da2c4b31c'}
2025-05-02 18:27:30,613 [INFO] renter: received kill signal, stopping rental...
2025-05-02 18:44:38,803 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 18:44:41,184 [INFO] renter: received invoice: {'nonce': 0, 'channel_id': 97363779913691398741239067664142935780106720973087835814544415765343519924602, 'sigL': 'ca8c387b42682192dd13844895ddf06281415f5f026277e4a89d0a3db670877c7b36c4581ec929272423752ffa841f2eb588e24ca0bd91dababbd60ea59ddf711c', 'sigR': 'ca8c387b42682192dd13844895ddf06281415f5f026277e4a89d0a3db670877c7b36c4581ec929272423752ffa841f2eb588e24ca0bd91dababbd60ea59ddf711c'}
2025-05-02 18:45:01,186 [INFO] renter: received invoice: {'nonce': 1, 'channel_id': 97363779913691398741239067664142935780106720973087835814544415765343519924602, 'sigL': '65facd4a3d0eabac5ba9f859dd91b36982af58b49573e1451c8d6519d72d09c56db55fb7da08eb272a6b3fb2ec5c2e1802996a82801dbc06c1461adfbdc41ebc1b', 'sigR': '65facd4a3d0eabac5ba9f859dd91b36982af58b49573e1451c8d6519d72d09c56db55fb7da08eb272a6b3fb2ec5c2e1802996a82801dbc06c1461adfbdc41ebc1b'}
2025-05-02 18:45:02,477 [INFO] renter: received kill signal, stopping rental...
2025-05-02 18:45:50,283 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 18:45:51,280 [INFO] renter: received invoice: {'nonce': 0, 'channel_id': 58380039992902366445636518260472418534324410958490819570233384976029914707395, 'sigL': '482eff95dcc79bc719af382426f875c44013ba0afd110395915c9934a64d795415f8a9976e10a230c02695ec72efde20de16060a48efe134107a34d3b96add421c', 'sigR': '482eff95dcc79bc719af382426f875c44013ba0afd110395915c9934a64d795415f8a9976e10a230c02695ec72efde20de16060a48efe134107a34d3b96add421c'}
2025-05-02 18:46:11,290 [INFO] renter: received invoice: {'nonce': 1, 'channel_id': 58380039992902366445636518260472418534324410958490819570233384976029914707395, 'sigL': '46c0c84ee2e681d5a4217b7c72feeeacc0be04799545bb1447f05fdc33e0fc952df8c1039fd56bfe16d52875191e7e33a9a30709bf4de2226949198797f809091b', 'sigR': '46c0c84ee2e681d5a4217b7c72feeeacc0be04799545bb1447f05fdc33e0fc952df8c1039fd56bfe16d52875191e7e33a9a30709bf4de2226949198797f809091b'}
2025-05-02 18:46:15,485 [ERROR] renter: failed to submit invoice: object of type 'int' has no len()
2025-05-02 18:46:15,486 [INFO] renter: received kill signal, stopping rental...
2025-05-02 18:48:49,535 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 18:48:50,609 [INFO] renter: received invoice: {'nonce': 0, 'channel_id': 114865860849171244013696391330340001280169624866610867547944642179172626986730, 'sigL': 'dfca480dc035e75db4e867223e87c0c6fe140b6654582512bf8a4894ade6be6632a30f0f7e994abe8834e6d4bc465f1cba31ba38eb50534b1b8b411463f7a23a1c', 'sigR': 'dfca480dc035e75db4e867223e87c0c6fe140b6654582512bf8a4894ade6be6632a30f0f7e994abe8834e6d4bc465f1cba31ba38eb50534b1b8b411463f7a23a1c'}
2025-05-02 18:48:51,654 [ERROR] renter: failed to submit invoice: object of type 'int' has no len()
2025-05-02 18:48:51,654 [INFO] renter: received kill signal, stopping rental...
2025-05-02 18:51:16,381 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 18:51:17,396 [INFO] renter: received invoice: {'nonce': 0, 'channel_id': 11614850523673088870654870847642058227035857381548066908120822439840767938698, 'sigL': '498f223e4f86475b31a1254f35aa35e24684673d0605751451e155a4801290893e28bd073f18b2cf5b2111a0c7eda62aad7c316fe8645d5f480cc432333503d01c', 'sigR': '498f223e4f86475b31a1254f35aa35e24684673d0605751451e155a4801290893e28bd073f18b2cf5b2111a0c7eda62aad7c316fe8645d5f480cc432333503d01c'}
2025-05-02 18:51:18,481 [ERROR] renter: failed to submit invoice: Please ensure that this contract instance has an address.
2025-05-02 18:51:18,482 [INFO] renter: received kill signal, stopping rental...
2025-05-02 18:52:20,335 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 18:52:21,287 [INFO] renter: received invoice: {'nonce': 0, 'channel_id': 16796176285248974127577590528221666378963779983440492323320667503515201011476, 'sigL': 'fa3c8e3ab8ead44aafe00fd04e6b5891d8bfd6afb1534c9fdbf1230c58aa73e24f0d5317d657ee13807b394090b469a927061100e9ba3d02911a8983dbc872791b', 'sigR': 'fa3c8e3ab8ead44aafe00fd04e6b5891d8bfd6afb1534c9fdbf1230c58aa73e24f0d5317d657ee13807b394090b469a927061100e9ba3d02911a8983dbc872791b'}
2025-05-02 18:52:23,108 [INFO] renter: contract at None
2025-05-02 18:52:23,110 [ERROR] renter: failed to submit invoice: Please ensure that this contract instance has an address.
2025-05-02 18:52:23,110 [INFO] renter: received kill signal, stopping rental...
2025-05-02 18:53:23,651 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 18:53:24,588 [INFO] renter: received invoice: {'nonce': 0, 'channel_id': 58974519266971179209974588799092282531969093317120253543678058840475969330703, 'sigL': 'a56c3280bcd262fada209e79a2b836ed529dea922335d4deea418b5a76496d0c5426ff38842bf9ada9232bbe539ad56e68b5ea430930b8161df8ddf5fb26923e1b', 'sigR': 'a56c3280bcd262fada209e79a2b836ed529dea922335d4deea418b5a76496d0c5426ff38842bf9ada9232bbe539ad56e68b5ea430930b8161df8ddf5fb26923e1b'}
2025-05-02 18:53:27,001 [INFO] renter: contract at 0x5FbDB2315678afecb367f032d93F642f64180aa3
2025-05-02 18:53:27,027 [ERROR] renter: failed to submit invoice: {'code': -32603, 'message': "Error: VM Exception while processing transaction: reverted with reason string 'new invoice must have a higher nonce.'", 'data': {'message': "Error: VM Exception while processing transaction: reverted with reason string 'new invoice must have a higher nonce.'", 'txHash': '0xfe0b0fe38b7f383789ad3761fa8ca25df061b3bc4fac5bd35eba377267da7615', 'data': '0x08c379a0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000256e657720696e766f696365206d7573742068617665206120686967686572206e6f6e63652e000000000000000000000000000000000000000000000000000000'}}
2025-05-02 18:53:27,027 [INFO] renter: received kill signal, stopping rental...
2025-05-02 18:54:08,356 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 18:54:09,276 [INFO] renter: received invoice: {'nonce': 1, 'channel_id': 112554834915606360840638919269075447075414307073622370445738349656695311434682, 'sigL': '44619c96799fda4e8e5afb07b5329afe56cc3fd3590540283178467af1ca1e565d9a5e5f19cecfdd02446fbbf970f19517ec5f2872d49403d608567faf3eac021b', 'sigR': '44619c96799fda4e8e5afb07b5329afe56cc3fd3590540283178467af1ca1e565d9a5e5f19cecfdd02446fbbf970f19517ec5f2872d49403d608567faf3eac021b'}
2025-05-02 18:54:11,741 [INFO] renter: contract at 0x5FbDB2315678afecb367f032d93F642f64180aa3
2025-05-02 18:54:11,766 [ERROR] renter: failed to submit invoice: {'code': -32603, 'message': "Error: VM Exception while processing transaction: reverted with reason string 'landlord signaure cannot be verified.'", 'data': {'message': "Error: VM Exception while processing transaction: reverted with reason string 'landlord signaure cannot be verified.'", 'txHash': '0x2f36914f02505df4f8562753316503477c299872f75281a019e090d3f0963831', 'data': '0x08c379a0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000256c616e646c6f7264207369676e617572652063616e6e6f742062652076657269666965642e000000000000000000000000000000000000000000000000000000'}}
2025-05-02 18:54:11,766 [INFO] renter: received kill signal, stopping rental...
2025-05-02 19:09:35,036 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 19:09:36,276 [INFO] renter: received invoice: {'nonce': 1, 'channel_id': 82330784954104883786466850485049224454040338635638781924443772974883387965737, 'sigL': '5c046c6d39de9193001e3bd548ede6ada6729bfac952315e72f1373fca580c050a977d78d28df85c47859b2a2b301188d9709bc46851eea0900f1acb87b77f171b', 'sigR': '5bda7b15e11f636f4b49b760035b038b6aea274a6a95884b78a9f8bd06785a7344f9d5f07218df94a9498ffbb39d9bcc2b5718d9743439f2a08c61d01eb9c2621c'}
2025-05-02 19:09:38,037 [INFO] renter: contract at 0x5FbDB2315678afecb367f032d93F642f64180aa3
2025-05-02 19:09:38,056 [INFO] renter: submitted invoice to contract (nonce 1)
2025-05-02 19:09:38,056 [INFO] renter: received kill signal, stopping rental...
2025-05-02 19:15:01,915 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 19:15:03,024 [INFO] renter: received invoice: {'nonce': 1, 'channel_id': 109894230016221117258220184937598269611904629758590698617703377859095959814873, 'sigL': '1bad8102f8a14e13c545146ad286881b103986fe94813311c396eb5eaf85ae9254841fcc55206b09945afae17778d49156958af0d7cff1b56798805c7ca7ae741b', 'sigR': '8239ce1aeee8923a390bbf0f23d070b9c487a74a2d19bce347ea59c9ef839924705518a7fa052ebe2f650589733afd9b9c849094898d665f352bcc3d00a35f2e1b'}
2025-05-02 19:15:11,128 [INFO] renter: contract at 0x5FbDB2315678afecb367f032d93F642f64180aa3
2025-05-02 19:15:11,151 [INFO] renter: submitted invoice to contract (nonce 1)
2025-05-02 19:15:11,151 [INFO] renter: received kill signal, stopping rental...
2025-05-02 19:17:53,983 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 19:17:55,013 [INFO] renter: received invoice: {'nonce': 1, 'channel_id': 27975974599827242889774953015466055435636093443403780576439418291562530489607, 'sigL': '0c737ae04a9699c93f4cb2fc7335f868e3ba3377df9e7f701020ef19137d64e3017672f97a59e349c5ba749ccc4cc4454e130174adc62ebe688610f18886ec8d1b', 'sigR': '5e38d96d6adcea8aa104028c7d7061c9ef7b9508b68f2696310a2d754e947fe327f35ff9e7b02cc2a46c8ab3ba343e17a8441453c5001de28721853ab52dfb1b1b'}
2025-05-02 19:17:59,365 [INFO] renter: contract at 0x5FbDB2315678afecb367f032d93F642f64180aa3
2025-05-02 19:17:59,380 [INFO] renter: submitted invoice to contract (nonce 1)
2025-05-02 19:17:59,380 [INFO] renter: received kill signal, stopping rental...
2025-05-02 19:25:20,438 [INFO] renter: sent open request to 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
2025-05-02 19:25:21,554 [INFO] renter: received invoice: {'nonce': 1, 'channel_id': 33527733544675416620353151692085129439204993669366687655633734633605707741165, 'sigL': '2f5e62475bad9225f2478f3502c9952f7a2aa5c0c0e8fc4df698cf075c9a7e5f04b39cc5091a5a6be76b8fcb332f9ee32014e7445218baaf238e1fa15b0cdd061b', 'sigR': '0dded11762771fd2deb0c050a80b0bf861e06c6a91eaeded75055343aed6fabf503669e4ef3e459b7ebf0cf8b275614e284b58e71fe5c92a20dc53cfe27d95c61c'}
2025-05-02 19:25:41,564 [INFO] renter: received invoice: {'nonce': 2, 'channel_id': 33527733544675416620353151692085129439204993669366687655633734633605707741165, 'sigL': '3a323a1a454f11cd01ab8be18d1e15e183889809b24fa9ee2aee8d941df2bc436a7f41785844ecaec2a3c96a094521ebba34f38553d771f380fb1db9575a9d3d1b', 'sigR': '7502a9dbade05b31d76999b677fc22529eac896f0ffe9f73be1d16da7301b424428b7f6f7940e8c39a0cb05db3ec66c28acf82596c250cf01616c739593000b11b'}
2025-05-02 19:25:43,031 [INFO] renter: contract at 0x5FbDB2315678afecb367f032d93F642f64180aa3
2025-05-02 19:25:43,046 [INFO] renter: submitted invoice to contract (nonce 2)
2025-05-02 19:25:43,046 [INFO] renter: received kill signal, stopping rental...
